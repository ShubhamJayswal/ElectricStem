<!DOCTYPE html>
<html>
<head>
<!-- Define inlined PaperScript associate it with myCanvas -->
<link rel="stylesheet" type="text/css" href="paperFunCss.css">



<script type="text/javascript" src="paper.js"></script>
<script type="text/paperscript" canvas="myCanvas">




//drag and drop_zone
var hitOptions = {
	segments: true,
	stroke: true,
	fill: true,
	tolerance: 5
};




var segment, path;
var movePath = false;

function onMouseDown(event){

	segment = path = null;
	console.log('hitOptions', hitOptions)
	var hitResult = project.hitTest(event.point);
	if (!hitResult)
		return;

	if (hitResult) {
		if(hitResult.item.id==5)
		{
		path = hitResult.item;

		if (hitResult.type == 'segment') {
			segment = hitResult.segment;
		} else if (hitResult.type == 'stroke') {
			var location = hitResult.location;
			segment = path.insert(location.index + 1, event.point);
			path.smooth();
		}

  console.log('hitResult.type', hitResult.type);
	movePath = hitResult.type == 'fill';
	if (movePath)
		project.activeLayer.addChild(hitResult.item);
	}
}
}

function onMouseMove(event) {

	project.activeLayer.selected = false;
	console.log('event.item', event.item)
	if (event.item.id==5)
	       {
				 console.log('event.item.className', event.item.className)
         event.item.selected = true;
			 }

}

function onMouseDrag(event) {

			if (segment) {
				console.log('segment', segment)
				segment.point += event.delta;
				path.smooth();
			} else if (path) {

				path.position += event.delta;
			}
		}

//drag and drop over

var wire = new Raster('wire.png');

wire.position = view.center;

var battery = new Raster('paint2d.png',400, 390);

battery.scale(0.7);

var currentBall = new Raster('currentBall2.png', 500, 500);


var resistor = new Raster('resistor.jpg', 40, 400);
//var newImage = new DragImage('paint2d.png', 200, 300);

var t=0;
var m=0;
var n=0;
var k=0;
var p=0;




function onFrame(event) {
	// Each frame, rotate the path by 3 degrees:
  //battery.rotate(3);
  if(currentBall.position.x<708 && currentBall.position.y>200 && t!=1)
		{
      //alert("currentBall.position.x<708 && currentBall.position.y>200");
			currentBall.position.x+= 2;
			if(currentBall.position.x>=684)
			{
        //alert("currentBall.position.x>684");
				currentBall.position.x+=2;
				currentBall.position.y-=2;
			}

      if(!(currentBall.position.x<708 && currentBall.position.y>200))
          t=0;

		}
		if(currentBall.position.x>=708 && currentBall.position.y>198)
		 {
       //alert("currentBall.position.x>=708 && currentBall.position.y>200");
			 currentBall.position.y-=2;
		 }
		 if(currentBall.position.y<=198 && currentBall.position.y>170 &&  currentBall.position.x>260)
		 {
    //  alert("currentBall.position.y<=200 && currentBall.position.y>170");
			 currentBall.position.x-=2;
			 currentBall.position.y-=2;
		 }
     // it was 260
		 if(currentBall.position.y<=170 && currentBall.position.x>246)
		   {
				// alert("currentBall.position.y<=170 && currentBall.position.x>260");
		     currentBall.position.x-=2;
         k=0;
			 }

		 if(currentBall.position.x<=246 && currentBall.position.x>=236 && k!=1)
		    {
				//alert("currentBall.position.x<=260 && currentBall.position.x>=236");
          if(currentBall.position.x>=236)
					   m=1;

					currentBall.position.x-=1;
					currentBall.position.y+=1
					;
					t=1;
          if(!(currentBall.position.x<=246 && currentBall.position.x>=236))
             k=0;


				}
      // it was 476 everywhere
			if(m==1 && currentBall.position.y<=472)
			{
        //alert("m==1 && currentBall.position.y<=476");
				currentBall.position.y+=2;
				if(currentBall.position.y>=472)
				   n=1;
        if(!(m==1 && currentBall.position.y<=472))
           m=0;
			}
			if(n==1 && currentBall.position.x<=259)
			  {
          //alert("inside n and the value of x coordinate is"+currentBall.position.x);

          if(currentBall.position.x>=259)
					    p=1;
					currentBall.position.x+=2;
					currentBall.position.y+=2;

					k=1;
          if(!(n==1 && currentBall.position.x<=259))
               n=0;
				}
        // it was for 684
				if(p==1 && currentBall.position.x<684)
				{

				   currentBall.position.x+=2;
           // it didn't have the equal to sign currentBall.position.x<=684.
           if(!(p==1 && currentBall.position.x<684))
            {
              //  alert("p=0"+"and current x is "+currentBall.position.x+"y is"+currentBall.position.y+"t is "+t);
               t=0;
               p=0;
             }



        }
	 }




</script>
</head>
<body>
    <h1 id="heading"> Electric Circuit </h1>
	<canvas id="myCanvas" height="500px" width="800px"></canvas>
</body>
</html>
